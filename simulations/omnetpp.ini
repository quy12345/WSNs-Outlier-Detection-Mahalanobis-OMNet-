#
# OMNeT++ Configuration for ODA-MD Simulation
# Based on paper: "Outlier Detection Algorithm based on Mahalanobis Distance for WSN"
#

[General]
network = oda_md.simulations.ODA_MD_Network
sim-time-limit = 6000s  # Đủ thời gian để chạy hết data

# Network Configuration
*.numNodes = 3          # 3 sensors (representing Intel Lab nodes 36, 37, 38)

# Sensor Configuration
**.sensor[*].sendInterval = 1s
**.sensor[*].useRealData = true
**.sensor[*].dataFile = "../data.txt"

# Cluster Head Configuration  
**.clusterHead.clusterSize = 20   # Paper: Queue size = 50, use batch=20
**.clusterHead.dataFile = "../data.txt"
**.clusterHead.logInterval = 20s   # Frequent logging for paper-style graphs

#------------------------------------------------------------
# [Config ODA-MD] - Proposed Algorithm (Mahalanobis Distance)
#------------------------------------------------------------
[Config ODAMD]
description = "ODA-MD Algorithm (Mahalanobis Distance) - Proposed"
**.clusterHead.algorithm = "ODA-MD"
**.clusterHead.threshold = 3.338   # sqrt(chi2_inv(0.975, 4)) = sqrt(11.143)

#------------------------------------------------------------
# [Config OD] - Baseline Algorithm (Euclidean Distance)
#------------------------------------------------------------
[Config OD]
description = "OD Algorithm (Fawzy et al., 2013) - Baseline"
**.clusterHead.algorithm = "OD"
**.clusterHead.odThreshold = 15.0    # Not used in new algorithm
**.clusterHead.clusterWidth = 50.0   # Fixed-width clustering parameter

#------------------------------------------------------------
# [Config Compare] - Run both for comparison
#------------------------------------------------------------
[Config Compare]
description = "Compare ODA-MD vs OD"
sim-time-limit = 500s  # Shorter run for quick comparison

#------------------------------------------------------------
# Quick Test Configuration
#------------------------------------------------------------
[Config QuickTest]
description = "Quick test run"
sim-time-limit = 100s
**.clusterHead.logInterval = 20s